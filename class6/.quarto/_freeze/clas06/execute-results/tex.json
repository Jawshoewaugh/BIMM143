{
  "hash": "303145a24e0ea8d3e480ba2bee7357b5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Class 6 R Functions\"\nauthor: \"Joshua Mac A17016359\"\nformat: pdf\ndate: January 27, 2025\n---\n\n\n\n>Q1. Write a function grade() to determine an overall grade from a vector of student homework\nassignment scores dropping the lowest single score. If a student misses a homework (i.e. has an\nNA value) this can be used as a score to be potentially dropped. Your final function should be\nadquately explained with code comments and be able to work on an example class gradebook\nsuch as this one in CSV format: “https://tinyurl.com/gradeinput” [3pts]\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Example input vectors to start with\nstudent1 <- c(100, 100, 100, 100, 100, 100, 100, 90)\nstudent2 <- c(100, NA, 90, 90, 90, 90, 97, 80)\nstudent3 <- c(90, NA, NA, NA, NA, NA, NA, NA)\n```\n:::\n\n\n\nFollowing the steps from class:\nSimple problem Step 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstudent1 <- c(100, 100, 100, 100, 100, 100, 100, 90)\n\nmean(student1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 98.75\n```\n\n\n:::\n:::\n\n\nDrop the lowest score\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwhich.min(student1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n\n```{.r .cell-code}\nstudent1[-8]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 100 100 100 100 100 100 100\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## First working snippet\nmean(student1[-which.min(student1)])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 100\n```\n\n\n:::\n:::\n\n\nWhat about the other students in the class?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstudent2 <- c(100, NA, 90, 90, 90, 90, 97, 80)\nmean(student2, na.rm=T)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 91\n```\n\n\n:::\n\n```{.r .cell-code}\nstudent3 <- c(90, NA, NA, NA, NA, NA, NA, NA)\nmean(student3, na.rm=T)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 90\n```\n\n\n:::\n:::\n\n\nDo these make sense?\nNo, because student 3 did only 1 homework and got an average hw grade of 90\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstudent2 <- c(100, NA, 90, 90, 90, 90, 97, 80)\nx<-student2\nis.na(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\nwhich(is.na(x))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n\nIdentified NA elements, now want to mask the NA, replacing them with 0s and dropping the lowest\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx[(is.na(x))]<-0\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 100   0  90  90  90  90  97  80\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 79.625\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(x[-which.min(x)])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 91\n```\n\n\n:::\n:::\n\n\nNow for student 3, a more extreme case\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstudent3 <- c(90, NA, NA, NA, NA, NA, NA, NA)\ny<-student3\ny[is.na(y)]<-0\nmean(y[-which.min(y)])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 12.85714\n```\n\n\n:::\n:::\n\n\n\n##Step 2: Function making time for grade()!\n3 Parts to a Function:\n- Name: name\n- Input: arguments\n- Body: working snippet\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngrade <- function(x) {\n  x[is.na(x)]<-0\n  mean(x[-which.min(x)])\n}\n```\n:::\n\n\nNow we have a function we can run!\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngrade(student1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 100\n```\n\n\n:::\n\n```{.r .cell-code}\ngrade(student2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 91\n```\n\n\n:::\n\n```{.r .cell-code}\ngrade(student3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 12.85714\n```\n\n\n:::\n:::\n\n\n\nLet's annotate the function\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#' Calculate average score for vector of students, dropping the lowest.\n#'Missing values will be treated as zero\n#' @param x A numeric vector of HW scores\n#'\n#' @returns Average score\n#' @export\n#'\n#' @examples\n#' student<-c(100, 90, 50, 80)\n#' grade(student)\n#'\ngrade <- function(x) {\n  #Mask NA with zero\n  #Treat missing as zero\n  x[is.na(x)]<-0\n  #Exclude the lowest score from mean\n  mean(x[-which.min(x)])\n}\n```\n:::\n\n\nNow, to a larger \"gradebook\"\nCSV format: “https://tinyurl.com/gradeinput” \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nurl<- \"https://tinyurl.com/gradeinput\"\ngradebook<-read.csv(url, row.names = 1 )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Applying to data with margin a function\napply(gradebook, 1, grade)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n student-1  student-2  student-3  student-4  student-5  student-6  student-7 \n     91.75      82.50      84.25      84.25      88.25      89.00      94.00 \n student-8  student-9 student-10 student-11 student-12 student-13 student-14 \n     93.75      87.75      79.00      86.00      91.75      92.25      87.75 \nstudent-15 student-16 student-17 student-18 student-19 student-20 \n     78.75      89.50      88.00      94.50      82.75      82.75 \n```\n\n\n:::\n:::\n\n\n>Q2.Using your grade() function and the supplied gradebook, Who is the top scoring student\noverall in the gradebook? \n\nApply function, see result using code not eyeballs\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresults<-apply(gradebook, 1, grade)\nsort(results,decreasing=T)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nstudent-18  student-7  student-8 student-13  student-1 student-12 student-16 \n     94.50      94.00      93.75      92.25      91.75      91.75      89.50 \n student-6  student-5 student-17  student-9 student-14 student-11  student-3 \n     89.00      88.25      88.00      87.75      87.75      86.00      84.25 \n student-4 student-19 student-20  student-2 student-10 student-15 \n     84.25      82.75      82.75      82.50      79.00      78.75 \n```\n\n\n:::\n\n```{.r .cell-code}\nwhich.max(results)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nstudent-18 \n        18 \n```\n\n\n:::\n:::\n\n\nSo the answer is student 18!\n\n>Q3. From your analysis of the gradebook, which homework was toughest on students (i.e. obtained the lowest scores overall?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngradebook\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           hw1 hw2 hw3 hw4 hw5\nstudent-1  100  73 100  88  79\nstudent-2   85  64  78  89  78\nstudent-3   83  69  77 100  77\nstudent-4   88  NA  73 100  76\nstudent-5   88 100  75  86  79\nstudent-6   89  78 100  89  77\nstudent-7   89 100  74  87 100\nstudent-8   89 100  76  86 100\nstudent-9   86 100  77  88  77\nstudent-10  89  72  79  NA  76\nstudent-11  82  66  78  84 100\nstudent-12 100  70  75  92 100\nstudent-13  89 100  76 100  80\nstudent-14  85 100  77  89  76\nstudent-15  85  65  76  89  NA\nstudent-16  92 100  74  89  77\nstudent-17  88  63 100  86  78\nstudent-18  91  NA 100  87 100\nstudent-19  91  68  75  86  79\nstudent-20  91  68  76  88  76\n```\n\n\n:::\n\n```{.r .cell-code}\nave.scores<- apply(gradebook, 2, mean, na.rm=T)\nave.scores\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     hw1      hw2      hw3      hw4      hw5 \n89.00000 80.88889 80.80000 89.63158 83.42105 \n```\n\n\n:::\n\n```{.r .cell-code}\nwhich.min(ave.scores)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nhw3 \n  3 \n```\n\n\n:::\n\n```{.r .cell-code}\nmedian.scores<-apply(gradebook, 2, median, na.rm=T)\nmedian.scores\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n hw1  hw2  hw3  hw4  hw5 \n89.0 72.5 76.5 88.0 78.0 \n```\n\n\n:::\n\n```{.r .cell-code}\nwhich.min(median.scores)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nhw2 \n  2 \n```\n\n\n:::\n:::\n\n\nSo homework 3 was, on average, the most challenging for students, while hw 2 had the lowest median score with just a tiny bit higher average score.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nboxplot(gradebook)\n```\n\n::: {.cell-output-display}\n![](clas06_files/figure-pdf/unnamed-chunk-16-1.pdf){fig-pos='H'}\n:::\n:::\n\n\nLooking at the boxplot of the gradebook, **hw2** (even though average for hw3 was smaller) was the most challenging for students overall.\n\n>Q5. Make sure you save your Quarto document and can click the “Render” (or Rmarkdown”Knit”) button to generate a PDF foramt report without errors. Finally, submit your PDF\nto gradescope. \n",
    "supporting": [
      "clas06_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}